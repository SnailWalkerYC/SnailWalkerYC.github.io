---
layout: post
title: AWS S3 Cookbook
date: 2019-07-24
Author: 来自中世界
categories: [technology]
tags: [aws]
comments: false
---

s3 with browser is easy, you can see it from [1]. But if we want to do batch processing, we can refer to [2]. In this cookbook, we introduce about command line operation most. And in [4], there are more fine grained APIs.

 
The platform here is Ubuntu 16.04.

 
- install AWS cli

> pip install awscli --upgrade --user

- AWS version

> aws --version

- AWS CLI update

> pip install awscli --upgrade --user

- AWS CLI uninstall

> pip uninstall awscli

- aws configure

> input IMA information to operate bucket.

- create bucket

> aws s3 mb s3://my-first-backup-bucket

- copy file to bucket

> aws s3 cp “C:\users\my first backup.bak” s3://my-first-backup-bucket/

- copy file from bucket to local

> aws s3 cp s3://my-first-backup-bucket/my-first-backup.bak ./

- copy directory

> aws s3 cp /tmp/foo s3://bucket/ --recursive --exclude ".git/*"


There are other commands for working:

> cp: copy file

> ls:  aws s3 ls show bucket file

> mb: make bucket aws s3 mb s3://mybucket --region us-west-1

> mv: move file locally or in s3

> presign: using predesigned path for object

> rb: remove bucket.

> rm: remove file

> sync: syncronnization of  bucket and local file with the same name

> website: see website configuration of the bucket.

 

Besides of the above utilization of s3, there are plenty of s3 API which are good for operating on objects:

including delete, put, list objects in one bucket and list, put, deleted bucket function. See [4] for more details. When using these commands, you should add aws in front of the command. For example, if you use list-bucket, you should use command like: aws list-bucket  

 

Reference link:

[1] [s3 browser operation](https://aws.amazon.com/getting-started/tutorials/backup-files-to-amazon-s3/?trk=gs_card) 

[2] [s3 CLI](https://aws.amazon.com/getting-started/tutorials/backup-to-s3-cli/?trk=gs_card )

[3] [More operation about s3 storage](https://docs.aws.amazon.com/cli/latest/reference/s3/)

[4] [s3  API](https://docs.aws.amazon.com/cli/latest/reference/s3api/index.html)
